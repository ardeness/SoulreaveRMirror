import React, { Component } from 'react';
import PropTypes from 'prop-types';

const charMap = {
  'a':
  [
    [ 1, 1, 1, 1, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 1, 1, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ]
  ],
  'b':
  [
    [ 1, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 1, 1, 0 ]
  ],
  'c':
  [
    [ 1, 1, 1, 1, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 1, 1, 1 ]
  ],
  'd':
  [
    [ 1, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 1, 1, 0 ]
  ],
  'e':
  [
    [ 1, 1, 1, 1, 1 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 1, 1, 1, 1 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 1, 1, 1, 1 ]
  ],
  'f':
  [
    [ 1, 1, 1, 1, 1 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ]
  ],
  'g':
  [
    [ 1, 1, 1, 1, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 1, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 1, 1, 1 ]
  ],
  'h':
  [
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 1, 1, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ]
  ],
  'i':
  [
    [ 1, 1, 1, 1, 1 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 1, 1, 1, 1, 1 ]
  ],
  'j' :
  [
    [ 0, 1, 1, 1, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 1, 0, 1, 0, 0 ],
    [ 1, 1, 1, 0, 0 ]
  ],
  'k':
  [
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 1, 0 ],
    [ 1, 0, 1, 0, 0 ],
    [ 1, 1, 0, 0, 0 ],
    [ 1, 0, 1, 0, 0 ],
    [ 1, 0, 0, 1, 0 ],
    [ 1, 0, 0, 0, 1 ]
  ],
  'l':
  [
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 1, 1, 1, 1 ],
  ],
  'm':
  [
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 0, 1, 0 ],
    [ 1, 0, 1, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
  ],
  'n':
  [
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 0, 0, 1 ],
    [ 1, 0, 1, 0, 1 ],
    [ 1, 0, 1, 0, 1 ],
    [ 1, 0, 1, 0, 1 ],
    [ 1, 0, 0, 1, 1 ],
    [ 1, 0, 0, 0, 1 ]
  ],
  'o':
  [
    [ 0, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 0, 1, 1, 1, 0 ]
  ],
  'p':
  [
    [ 1, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ]
  ],
  'q':
  [
    [ 0, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 1, 0, 1 ],
    [ 1, 0, 0, 1, 0 ],
    [ 0, 1, 1, 0, 1 ]
  ],
  'r':
  [
    [ 1, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 1, 1, 1, 0 ],
    [ 1, 0, 1, 0, 0 ],
    [ 1, 0, 0, 1, 0 ],
    [ 1, 0, 0, 0, 1 ]
  ],
  's':
  [
    [ 0, 1, 1, 1, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 0 ],
    [ 0, 1, 1, 1, 0 ],
    [ 0, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 0, 1, 1, 1, 0 ]
  ],
  't':
  [
    [ 1, 1, 1, 1, 1 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ]
  ],
  'u':
  [
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 0, 1, 1, 1, 0 ]
  ],
  'v':
  [
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 0, 1, 0, 1, 0 ],
    [ 0, 1, 0, 1, 0 ],
    [ 0, 0, 1, 0, 0 ]
  ],
  'w':
  [
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 1, 0, 1 ],
    [ 1, 1, 0, 1, 1 ],
    [ 1, 0, 0, 0, 1 ]
  ],
  'x':
  [
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 0, 1, 0, 1, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 1, 0, 1, 0 ],
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ]
  ],
  'y':
  [
    [ 1, 0, 0, 0, 1 ],
    [ 1, 0, 0, 0, 1 ],
    [ 0, 1, 0, 1, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 0, 1, 0, 0 ]
  ],
  'z':
  [
    [ 1, 1, 1, 1, 1 ],
    [ 0, 0, 0, 0, 1 ],
    [ 0, 0, 1, 1, 0 ],
    [ 0, 1, 1, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ],
    [ 1, 1, 1, 1, 1 ]
  ],
  ':':
  [
    [ 0 ],
    [ 0 ],
    [ 1 ],
    [ 0 ],
    [ 1 ],
    [ 0 ],
    [ 0 ]
  ],
  '/':
  [
    [ 0, 0, 0, 0, 1 ],
    [ 0, 0, 0, 1, 0 ],
    [ 0, 0, 0, 1, 0 ],
    [ 0, 0, 1, 0, 0 ],
    [ 0, 1, 0, 0, 0 ],
    [ 0, 1, 0, 0, 0 ],
    [ 1, 0, 0, 0, 0 ]
  ],
  ' ':
  [
    [ 0, 0, 0, 0, 0 ],
    [ 0, 0, 0, 0, 0 ],
    [ 0, 0, 0, 0, 0 ],
    [ 0, 0, 0, 0, 0 ],
    [ 0, 0, 0, 0, 0 ],
    [ 0, 0, 0, 0, 0 ],
    [ 0, 0, 0, 0, 0 ]
  ],
  '.':
  [
    [ 0 ],
    [ 0 ],
    [ 0 ],
    [ 0 ],
    [ 0 ],
    [ 0 ],
    [ 1 ]
  ]
};

class CharDotDisplay extends Component {
  constructor(props) {
    super(props);
    this.state = {...props};
  }
  componentDidMount() {
    this.setState({...this.props});
  }

  componentWillReceiveProps(nextProps) {
    this.setState({...nextProps});
  }

  genDot = (onColor, offColor, status, index) => {
    let backgroundColor = status ? onColor: offColor;
    return (<div key={index} style={{backgroundColor, margin: this.props.margin, width:this.props.width, height:this.props.height, float:'left'}}/>);
  }

  render() {
    let char = charMap[this.state.char.toLowerCase()];
    let dotGraph = char.map( (line, index) => {
      return (
        <div key={index} style={{clear:'left', margin:'5px'}}>
          {line.map( (dot, index) => this.genDot('white','black', dot, index) )}
        </div>
      );
    });

    return (
      <div>
        {dotGraph}
      </div>
    );
  }
}

CharDotDisplay.propTypes = {
  char        : PropTypes.string.isRequired,
  width       : PropTypes.string.isRequired,
  height      : PropTypes.string.isRequired,
  margin      : PropTypes.string.isRequired,
  cellMargin  : PropTypes.string.isRequired,
};

CharDotDisplay.defaultProps = {
  char        : 'a',
  width       : '10px',
  height      : '10px',
  margin      : '1px',
  cellMargin  : '5px',
}

export default CharDotDisplay;
